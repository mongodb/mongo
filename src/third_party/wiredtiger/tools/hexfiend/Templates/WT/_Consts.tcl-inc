# vi: ft=tcl sw=2 ts=2 et

###############################
# Consts

# Page bit flags
enum_bits WT_PAGE_f {
  WT_PAGE_COMPRESSED
  WT_PAGE_EMPTY_V_ALL
  WT_PAGE_EMPTY_V_NONE
  WT_PAGE_ENCRYPTED
  WT_PAGE_UNUSED
  WT_PAGE_FT_UPDATE
}

# Page type
enum WT_PAGE_n {
  WT_PAGE_INVALID
  WT_PAGE_BLOCK_MANAGER
  WT_PAGE_COL_FIX
  WT_PAGE_COL_INT
  WT_PAGE_COL_VAR
  WT_PAGE_OVFL
  WT_PAGE_ROW_INT
  WT_PAGE_ROW_LEAF
}
#WT_PAGE_BLOCK_MANAGER -> __wt_block_extlist_write

enum WT_PAGE_VERSION_n {
  WT_PAGE_VERSION_ORIG
  WT_PAGE_VERSION_TS
}

enum_bits {
  WT_BLOCK_DATA_CKSUM
}

set WT_BM_CHECKPOINT_VERSION 1
set WT_BLOCK_EXTLIST_MAGIC 71002

enum WT_BLOCK_EXTLIST_VERSION_n {
  WT_BLOCK_EXTLIST_VERSION_ORIG
  WT_BLOCK_EXTLIST_VERSION_CKPT
}

###############################

enum_bits WT_LOG_RECORD_f {
  WT_LOG_RECORD_COMPRESSED
  WT_LOG_RECORD_ENCRYPTED
}

set WT_LOG_MAGIC 0x101064u

enum WT_LOGREC_n {
  WT_LOGREC_CHECKPOINT
  WT_LOGREC_COMMIT
  WT_LOGREC_FILE_SYNC
  WT_LOGREC_MESSAGE
  WT_LOGREC_SYSTEM
}

enum WT_LOGOP_n {
  WT_LOGOP_INVALID
  WT_LOGOP_COL_PUT
  WT_LOGOP_COL_REMOVE
  WT_LOGOP_COL_TRUNCATE
  WT_LOGOP_ROW_PUT
  WT_LOGOP_ROW_REMOVE
  WT_LOGOP_ROW_TRUNCATE
  WT_LOGOP_CHECKPOINT_START
  WT_LOGOP_PREV_LSN
  WT_LOGOP_COL_MODIFY
  WT_LOGOP_ROW_MODIFY
}

set WT_LOGOP_IGNORE 0x80000000

enum WT_TXN_TRUNC_MODE {
  WT_TXN_TRUNC_ALL
  WT_TXN_TRUNC_BOTH
  WT_TXN_TRUNC_START
  WT_TXN_TRUNC_STOP
}

###############################

enum WT_CELL_short_n {
  { WT_CELL_KEY_SHORT 1 }
  WT_CELL_KEY_SHORT_PFX
  WT_CELL_VALUE_SHORT
}

set WT_CELL_SHORT_MASK   0x03
set WT_CELL_SHORT_MAX    63
set WT_CELL_SHORT_SHIFT  2

enum_bits WT_CELL_b {
  {WT_CELL_64V 0x04}
  {WT_CELL_SECOND_DESC 0x08}
}

enum_bits WT_CELL_extra_b {
  WT_CELL_PREPARE
  WT_CELL_TS_DURABLE_START
  WT_CELL_TS_DURABLE_STOP
  WT_CELL_TS_START
  WT_CELL_TS_STOP
  WT_CELL_TXN_START
  WT_CELL_TXN_STOP
}

enum WT_CELL_type_n {
  { WT_CELL_ADDR_DEL {0} }
  { WT_CELL_ADDR_INT {1 << 4} }
  { WT_CELL_ADDR_LEAF {2 << 4} }
  { WT_CELL_ADDR_LEAF_NO {3 << 4} }
  { WT_CELL_DEL {4 << 4} }
  { WT_CELL_KEY {5 << 4} }
  { WT_CELL_KEY_OVFL {6 << 4} }
  { WT_CELL_KEY_OVFL_RM {12 << 4} }
  { WT_CELL_KEY_PFX {7 << 4} }
  { WT_CELL_VALUE {8 << 4} }
  { WT_CELL_VALUE_COPY {9 << 4} }
  { WT_CELL_VALUE_OVFL {10 << 4} }
  { WT_CELL_VALUE_OVFL_RM {11 << 4} }
}

set WT_CELL_TYPE_MASK 0xf0

