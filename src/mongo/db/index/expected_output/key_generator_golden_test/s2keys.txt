--- V3_Point ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 40, -73 ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V3_LineString ---
Input: { "a" : { "type" : "LineString", "coordinates" : [ [ 0, 0 ], [ 1, 1 ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (20):
  { "" : { "$numberLong" : "384307168112803840" } }
  { "" : { "$numberLong" : "1152921504338411520" } }
  { "" : { "$numberLong" : "1152925902653358080" } }
  { "" : { "$numberLong" : "1152940196304519168" } }
  { "" : { "$numberLong" : "1152944594351030272" } }
  { "" : { "$numberLong" : "1152946426959888384" } }
  { "" : { "$numberLong" : "1152950825006399488" } }
  { "" : { "$numberLong" : "1152991873082589184" } }
  { "" : { "$numberLong" : "1152996271397535744" } }
  { "" : { "$numberLong" : "1153009465268633600" } }
  { "" : { "$numberLong" : "1153013863583580160" } }
  { "" : { "$numberLong" : "1153207377630068736" } }
  { "" : { "$numberLong" : "1153220571501166592" } }
  { "" : { "$numberLong" : "1153221671281229824" } }
  { "" : { "$numberLong" : "1153224969547677696" } }
  { "" : { "$numberLong" : "1153226069327740928" } }
  { "" : { "$numberLong" : "1153277746374246400" } }
  { "" : { "$numberLong" : "1153320260913332224" } }
  { "" : { "$numberLong" : "1153390629657509888" } }
  { "" : { "$numberLong" : "1921535841100890112" } }

--- V3_Polygon ---
Input: { "a" : { "type" : "Polygon", "coordinates" : [ [ [ 0, 0 ], [ 0, 1 ], [ 1, 1 ], [ 1, 0 ], [ 0, 0 ] ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (17):
  { "" : { "$numberLong" : "1152391494099795968" } }
  { "" : { "$numberLong" : "1152991873351024640" } }
  { "" : { "$numberLong" : "1153079834281246720" } }
  { "" : { "$numberLong" : "1153115018653335552" } }
  { "" : { "$numberLong" : "1153137008885891072" } }
  { "" : { "$numberLong" : "1153163397164957696" } }
  { "" : { "$numberLong" : "1153185387397513216" } }
  { "" : { "$numberLong" : "1153220571769602048" } }
  { "" : { "$numberLong" : "1153255756141690880" } }
  { "" : { "$numberLong" : "1153277746374246400" } }
  { "" : { "$numberLong" : "1153326124885868544" } }
  { "" : { "$numberLong" : "1153361309257957376" } }
  { "" : { "$numberLong" : "1153396493630046208" } }
  { "" : { "$numberLong" : "1153431678002135040" } }
  { "" : { "$numberLong" : "1153453668234690560" } }
  { "" : { "$numberLong" : "1153462464327712768" } }
  { "" : { "$numberLong" : "1921359048972697600" } }

--- V3_MultiPoint ---
Input: { "a" : { "type" : "MultiPoint", "coordinates" : [ [ 0, 0 ], [ 1, 0 ], [ 1, 1 ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (3):
  { "" : { "$numberLong" : "1152921504875282432" } }
  { "" : { "$numberLong" : "1153105535097110528" } }
  { "" : { "$numberLong" : "1153277837910736896" } }

--- V3_MultiLineString ---
Input: { "a" : { "type" : "MultiLineString", "coordinates" : [ [ [ 0, 0 ], [ 1, 1 ] ], [ [ 2, 2 ], [ 3, 3 ] ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (19):
  { "" : { "$numberLong" : "384307168112803840" } }
  { "" : { "$numberLong" : "1152921504338411520" } }
  { "" : { "$numberLong" : "1152939096792891392" } }
  { "" : { "$numberLong" : "1152991873082589184" } }
  { "" : { "$numberLong" : "1153009465537069056" } }
  { "" : { "$numberLong" : "1153207377630068736" } }
  { "" : { "$numberLong" : "1153220571501166592" } }
  { "" : { "$numberLong" : "1153224969816113152" } }
  { "" : { "$numberLong" : "1153277746374246400" } }
  { "" : { "$numberLong" : "1153320260913332224" } }
  { "" : { "$numberLong" : "1153390629657509888" } }
  { "" : { "$numberLong" : "1154350869722955776" } }
  { "" : { "$numberLong" : "1154399247160836096" } }
  { "" : { "$numberLong" : "1154416840420622336" } }
  { "" : { "$numberLong" : "1157442696420261888" } }
  { "" : { "$numberLong" : "1157513065164439552" } }
  { "" : { "$numberLong" : "1157542386906169344" } }
  { "" : { "$numberLong" : "1160427505417453568" } }
  { "" : { "$numberLong" : "1921535841100890112" } }

--- V3_MultiPolygon ---
Input: { "a" : { "type" : "MultiPolygon", "coordinates" : [ [ [ [ 0, 0 ], [ 0, 1 ], [ 1, 1 ], [ 1, 0 ], [ 0, 0 ] ] ], [ [ [ 2, 2 ], [ 2, 3 ], [ 3, 3 ], [ 3, 2 ], [ 2, 2 ] ] ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (11):
  { "" : { "$numberLong" : "1152391494099795968" } }
  { "" : { "$numberLong" : "1153202979583557632" } }
  { "" : { "$numberLong" : "1154399248234577920" } }
  { "" : { "$numberLong" : "1157354735490039808" } }
  { "" : { "$numberLong" : "1157495472978395136" } }
  { "" : { "$numberLong" : "1160398183675723776" } }
  { "" : { "$numberLong" : "1160433368047812608" } }
  { "" : { "$numberLong" : "1160455358280368128" } }
  { "" : { "$numberLong" : "1160464154373390336" } }
  { "" : { "$numberLong" : "1160503736791990272" } }
  { "" : { "$numberLong" : "1921359048972697600" } }

--- V3_GeometryCollection ---
Input: { "a" : { "type" : "GeometryCollection", "geometries" : [ { "type" : "Point", "coordinates" : [ 0, 0 ] }, { "type" : "LineString", "coordinates" : [ [ 0, 0 ], [ 1, 1 ] ] } ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (20):
  { "" : { "$numberLong" : "384307168112803840" } }
  { "" : { "$numberLong" : "1152921504338411520" } }
  { "" : { "$numberLong" : "1152925902653358080" } }
  { "" : { "$numberLong" : "1152940196304519168" } }
  { "" : { "$numberLong" : "1152944594351030272" } }
  { "" : { "$numberLong" : "1152946426959888384" } }
  { "" : { "$numberLong" : "1152950825006399488" } }
  { "" : { "$numberLong" : "1152991873082589184" } }
  { "" : { "$numberLong" : "1152996271397535744" } }
  { "" : { "$numberLong" : "1153009465268633600" } }
  { "" : { "$numberLong" : "1153013863583580160" } }
  { "" : { "$numberLong" : "1153207377630068736" } }
  { "" : { "$numberLong" : "1153220571501166592" } }
  { "" : { "$numberLong" : "1153221671281229824" } }
  { "" : { "$numberLong" : "1153224969547677696" } }
  { "" : { "$numberLong" : "1153226069327740928" } }
  { "" : { "$numberLong" : "1153277746374246400" } }
  { "" : { "$numberLong" : "1153320260913332224" } }
  { "" : { "$numberLong" : "1153390629657509888" } }
  { "" : { "$numberLong" : "1921535841100890112" } }

--- V3_CompoundNonGeo ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] }, "b" : 42 }
KeyPattern: { "a" : "2dsphere", "b" : 1 }
Keys (1):
  { "" : { "$numberLong" : "1152921504606846977" }, "" : 42 }

--- V3_CompoundNonGeoBefore ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] }, "b" : "hello" }
KeyPattern: { "b" : 1, "a" : "2dsphere" }
Keys (1):
  { "" : "hello", "" : { "$numberLong" : "1152921504606846977" } }

--- V3_MissingGeoField ---
Input: { "b" : 1 }
KeyPattern: { "a" : "2dsphere" }
Keys (0):

--- V3_ArrayOfGeoObjects ---
Input: { "a" : { "b" : [ { "geo" : { "type" : "Point", "coordinates" : [ 0, 0 ] } }, { "geo" : { "type" : "Point", "coordinates" : [ 3, 3 ] } } ] } }
KeyPattern: { "a.b.geo" : "2dsphere" }
Keys (2):
  { "" : { "$numberLong" : "1152921504606846977" } }
  { "" : { "$numberLong" : "1157514470122841853" } }

--- V2_Point ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 40, -73 ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : "5f20200112011003" }

--- V2_Polygon ---
Input: { "a" : { "type" : "Polygon", "coordinates" : [ [ [ 0, 0 ], [ 0, 1 ], [ 1, 1 ], [ 1, 0 ], [ 0, 0 ] ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (26):
  { "" : "0f13333300323322" }
  { "" : "0f2000000" }
  { "" : "0f20000010" }
  { "" : "0f200000110" }
  { "" : "0f200000113" }
  { "" : "0f200000120" }
  { "" : "0f200000123" }
  { "" : "0f20000013" }
  { "" : "0f20000020" }
  { "" : "0f200000210" }
  { "" : "0f200000213" }
  { "" : "0f2000002200" }
  { "" : "0f20000022010" }
  { "" : "0f20000022013" }
  { "" : "0f200000220200" }
  { "" : "0f20000022031" }
  { "" : "0f20000022032" }
  { "" : "0f200000231" }
  { "" : "0f200000232" }
  { "" : "0f200000302" }
  { "" : "0f200000303" }
  { "" : "0f20000031" }
  { "" : "0f20000032" }
  { "" : "0f200000330" }
  { "" : "0f200000331" }
  { "" : "0f31111100103300" }

--- V3_LegacyCoordPair ---
Input: { "a" : [ 40, -73 ] }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V3_LegacyEmbeddedCoordObject ---
Input: { "a" : { "x" : 40, "y" : -73 } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V3_NullGeoField ---
Input: { "a" : null }
KeyPattern: { "a" : "2dsphere" }
Keys (0):

--- V3_EmptyArrayGeoField ---
Input: { "a" : [] }
KeyPattern: { "a" : "2dsphere" }
Keys (0):

--- V3_EmptyObjectGeoField ---
Input: { "a" : {} }
KeyPattern: { "a" : "2dsphere" }
Keys (0):

--- V3_CompoundArrayNonGeo ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] }, "b" : [ 1, 2, 3 ] }
KeyPattern: { "a" : "2dsphere", "b" : 1 }
Keys (3):
  { "" : { "$numberLong" : "1152921504606846977" }, "" : 1 }
  { "" : { "$numberLong" : "1152921504606846977" }, "" : 2 }
  { "" : { "$numberLong" : "1152921504606846977" }, "" : 3 }

--- V3_CompoundMissingNonGeo ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] } }
KeyPattern: { "a" : "2dsphere", "b" : 1 }
Keys (1):
  { "" : { "$numberLong" : "1152921504606846977" }, "" : null }

--- V3_CompoundEmptyArrayLeading ---
Input: { "c" : [], "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] } }
KeyPattern: { "c" : 1, "a" : "2dsphere" }
Keys (1):
  { "" : { "$undefined" : true }, "" : { "$numberLong" : "1152921504606846977" } }

--- V3_MultipleGeoFields ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 0, 0 ] }, "b" : { "type" : "Point", "coordinates" : [ 1, 1 ] } }
KeyPattern: { "a" : "2dsphere", "b" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "1152921504606846977" }, "" : { "$numberLong" : "1153277837650709461" } }

--- V3_PolygonWithHole ---
Input: { "a" : { "type" : "Polygon", "coordinates" : [ [ [ 0, 0 ], [ 0, 10 ], [ 10, 10 ], [ 10, 0 ], [ 0, 0 ] ], [ [ 2, 2 ], [ 2, 8 ], [ 8, 8 ], [ 8, 2 ], [ 2, 2 ] ] ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (14):
  { "" : { "$numberLong" : "1140956586592698368" } }
  { "" : { "$numberLong" : "1154047404513689600" } }
  { "" : { "$numberLong" : "1156299204327374848" } }
  { "" : { "$numberLong" : "1160802803954745344" } }
  { "" : { "$numberLong" : "1163054603768430592" } }
  { "" : { "$numberLong" : "1165306403582115840" } }
  { "" : { "$numberLong" : "1167558203395801088" } }
  { "" : { "$numberLong" : "1174313602836856832" } }
  { "" : { "$numberLong" : "1176565402650542080" } }
  { "" : { "$numberLong" : "1178817202464227328" } }
  { "" : { "$numberLong" : "1181069002277912576" } }
  { "" : { "$numberLong" : "1185572601905283072" } }
  { "" : { "$numberLong" : "1187824401718968320" } }
  { "" : { "$numberLong" : "1909572410487603200" } }

--- V2_LegacyCoordPair ---
Input: { "a" : [ 40, -73 ] }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : "5f20200112011003" }

--- V4_Point ---
Input: { "a" : { "type" : "Point", "coordinates" : [ 40, -73 ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V4_LegacyCoordPair ---
Input: { "a" : [ 40, -73 ] }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V4_LegacyEmbeddedCoordObject ---
Input: { "a" : { "x" : 40, "y" : -73 } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5691773093605457193" } }

--- V3_AmbiguousLegacyAndGeoJSON ---
Input: { "a" : { "x" : 40, "y" : -70, "type" : "Point", "coordinates" : [ -70, 40 ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-5685310680706645935" } }

--- V4_AmbiguousLegacyAndGeoJSON ---
Input: { "a" : { "x" : 40, "y" : -70, "type" : "Point", "coordinates" : [ -70, 40 ] } }
KeyPattern: { "a" : "2dsphere" }
Keys (1):
  { "" : { "$numberLong" : "-8506816465018499813" } }

--- V4_CompoundAmbiguous ---
Input: { "a" : { "x" : 40, "y" : -70, "type" : "Point", "coordinates" : [ -70, 40 ] }, "b" : "test" }
KeyPattern: { "a" : "2dsphere", "b" : 1 }
Keys (1):
  { "" : { "$numberLong" : "-8506816465018499813" }, "" : "test" }

