load("@poetry//:dependencies.bzl", "dependency")
load("//bazel:mongo_script_rules.bzl", "mongo_toolchain_py_cxx_test")

mongo_toolchain_py_cxx_test(
    name = "test_clang_tidy",
    srcs = [
        "test_clang_tidy.py",
    ],
    main = "test_clang_tidy.py",
    visibility = ["//visibility:public"],
    deps = [
        "//buildscripts:clang_tidy_lib",
        "//buildscripts:mongo_toolchain",
        dependency(
            "pyyaml",
            group = "core",
        ),
    ],
)

# TODO(SERVER-105817): The following library is autogenerated, please split these out into individual python targets
py_library(
    name = "all_python_files",
    srcs = glob(["*.py"]),
    visibility = ["//visibility:public"],
)
