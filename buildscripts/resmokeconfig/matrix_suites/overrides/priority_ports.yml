# We can't override just one suite so we need to enumerate all of the suite combinations here
- name: replica_sets_reconfig_priority_port_hooks
  value:
    executor:
      hooks:
        - class: DoReconfigInBackground
          shell_options:
            global_vars:
              TestData:
                usingPriorityPorts: true
            nodb: ""
        - class: CheckReplOplogs
        - class: CheckReplDBHash
        - class: ValidateCollections
        - class: CleanEveryN
          n: 20

- name: replica_sets_reconfig_stepdown_priority_port_hooks
  value:
    executor:
      hooks:
        - class: DoReconfigInBackground
          shell_options:
            global_vars:
              TestData:
                usingPriorityPorts: true
            nodb: ""
        - class: ContinuousStepdown
        - class: CheckReplOplogs
        - class: CheckReplDBHash
        - class: ValidateCollections
        - class: CleanEveryN
          n: 20

- name: replica_sets_reconfig_kill_priority_port_hooks
  value:
    executor:
      hooks:
        - class: DoReconfigInBackground
          shell_options:
            global_vars:
              TestData:
                usingPriorityPorts: true
            nodb: ""
        - class: ContinuousStepdown
          kill: true
          background_reconfig: true
        - class: CheckReplOplogs
        - class: CheckReplDBHash
        - class: ValidateCollections
          shell_options:
            global_vars:
              TestData:
                skipEnforceFastCountOnValidate: true
        - class: CleanEveryN
          n: 20

- name: replica_sets_reconfig_terminate_priority_port_hooks
  value:
    executor:
      hooks:
        - class: DoReconfigInBackground
          shell_options:
            global_vars:
              TestData:
                usingPriorityPorts: true
            nodb: ""
        - class: ContinuousStepdown
          terminate: true
          stepdown_interval_ms: 15000
          background_reconfig: true
        - class: CheckReplOplogs
        - class: CheckReplDBHash
        - class: ValidateCollections
          shell_options:
            global_vars:
              TestData:
                skipEnforceFastCountOnValidate: true
        - class: CleanEveryN
          n: 20

- name: replica_sets_reconfig_kill_terminate_stepdown_priority_port_hooks
  value:
    executor:
      hooks:
        - class: DoReconfigInBackground
          shell_options:
            global_vars:
              TestData:
                usingPriorityPorts: true
            nodb: ""
        - class: ContinuousStepdown
          randomize_kill: true
          stepdown_interval_ms: 15000
          background_reconfig: true
        - class: CheckReplOplogs
        - class: CheckReplDBHash
        - class: ValidateCollections
          shell_options:
            global_vars:
              TestData:
                skipEnforceFastCountOnValidate: true
        - class: CleanEveryN
          n: 20

- name: replica_sets_reconfig_fixture_priority_ports
  value:
    executor:
      fixture:
        use_priority_ports: true
# Because we can't base off of another matrix suite, the kill primary suite is based off of the
# normal replica_sets_jscore_passthrough and thus we need to modify more of the fixture options
- name: replica_sets_reconfig_kill_primary_fixture_priority_ports
  value:
    executor:
      fixture:
        class: ReplicaSetFixture
        mongod_options:
          wiredTigerEngineConfigString: "debug_mode=(table_logging=true)"
          set_parameters:
            enableTestCommands: 1
            enableElectionHandoff: 0
            logComponentVerbosity:
              replication:
                heartbeats: 2
        all_nodes_electable: true
        use_priority_ports: true
        num_nodes: 5
