# This suite is used to run the smoke tests for the features owned by the RSS Sydney team.
# It is intended to be executed locally and should finish in a short time frame (< 10 minutes) with
# The goal being to provide quick feedback that none of the major features are broken.
# Should be run in conjunction with the unittests using:
# bazel test --build_tag_filters=server-integration-smoke --test_tag_filters=server-integration-smoke //...
# This suite can be run with:
# bazel build install-devcore && python buildscripts/run_smoke_tests.py --suites=server_integration

# This suite can be generated by running:
# python3 /home/ubuntu/rss-tooling/scripts/generate_smoke_test.py -t 15 -bt 15

suites:
  auth:
    - jstests/auth/dbcheck.js
  disk_wiredtiger:
    - jstests/disk/wt_verify_config_override.js
    - jstests/disk/repair_index_format_version.js
    - jstests/disk/repair_does_not_invalidate_config_on_standalone.js
    - jstests/disk/wt_startup_with_missing_user_collection.js
    - jstests/disk/repair_failure_is_recoverable.js
    - jstests/disk/wt_repair_orphaned_idents.js
    - jstests/disk/wt_size_storer_cleanup_replica_set.js
    - jstests/disk/wt_validate_corrupt_files.js
    - jstests/disk/wt_repair_corrupt_metadata.js
    - jstests/disk/repair_clustered_collection.js
    - jstests/disk/repair_corrupt_document.js
    - jstests/disk/dbNoCreate.js
    - jstests/disk/repair_removes_invalid_index_options.js
    - jstests/disk/wt_missing_file_errors.js
    - jstests/disk/wt_validate_table_logging.js
    - jstests/disk/killall.js
    - jstests/disk/libs/wt_file_helper.js
    - jstests/disk/wt_corrupt_file_errors.js
    - jstests/disk/dbcheck_full_bson_validate.js
  no_passthrough:
    - src/mongo/db/modules/enterprise/jstests/live_import/libs/export_import_helpers.js
    - jstests/noPassthrough/compact/compact_concurrency_control.js
    - jstests/noPassthrough/validate/validate_out_of_order.js
    - jstests/noPassthrough/validate/validate_multikey_compound.js
    - src/mongo/db/modules/enterprise/jstests/live_import/vote_commit_import_collection_command_sanity.js
    - jstests/noPassthrough/validate/background_validation_consistent_collection.js
    - src/mongo/db/modules/enterprise/jstests/live_restore/libs/live_restore_helpers.js
    - jstests/noPassthrough/directoryperdb/directoryperdb_and_split.js
    - jstests/noPassthrough/validate/current_op_reports_validation_io.js
    - jstests/noPassthrough/compact/compact_stops_on_ebusy.js
    - jstests/noPassthrough/validate/validate_adjust_multikey.js
    - jstests/noPassthrough/validate/validate_repair_multikey_config_options.js
    - jstests/noPassthrough/validate/validate_multikey_restart.js
    - jstests/noPassthrough/validate/validate_index_traversal_failure.js
    - jstests/noPassthrough/validate/validate_multikey_failures.js
    - jstests/noPassthrough/validate/modal_validate_specify.js
    - jstests/noPassthrough/data_consistency/dbcheck_detects_data_corruption.js
    - src/mongo/db/modules/enterprise/jstests/live_restore/live_restore_server.js
    - src/mongo/db/modules/enterprise/jstests/live_restore/live_restore_no_server.js
    - jstests/noPassthrough/validate/validate_empty_collection.js
    - jstests/noPassthrough/validate/skip_geo_hash_checks.js
    - jstests/noPassthrough/validate/validate_memory_limit.js
    - jstests/noPassthrough/validate/validate_with_long_index_name.js
    - src/mongo/db/modules/enterprise/jstests/live_restore/live_restore_block_fcv_change.js
    - jstests/noPassthrough/validate/background_validation.js
    - jstests/noPassthrough/backup_restore/queryable_backup_mode_incompatible_options.js
    - jstests/noPassthrough/validate/validate_checkBSONConformance.js
    - jstests/noPassthrough/validate/validate_log_oplog_entry_on_standalone.js
    - jstests/noPassthrough/validate/index_key_exception_fails_validation.js
    - jstests/noPassthrough/validate/background_validation_checkpoint_existence.js
    - jstests/noPassthrough/validate/background_validation_checkpoint_timestamp.js
    - jstests/noPassthrough/validate/validate_hashed_index.js
    - jstests/noPassthrough/validate/validate_continues_on_error.js
    - jstests/noPassthrough/validate/validate_doc_schema.js
    - jstests/noPassthrough/validate/validate_multikey_compound_batch.js
    - jstests/noPassthrough/data_consistency/dbcheck_ignores_prepare_conficts_secondaries.js
    - jstests/noPassthrough/directoryperdb/directoryperdb.js
    - jstests/noPassthrough/validate/validate_detects_invalid_index_options.js
    - jstests/noPassthrough/data_consistency/dbhash_capped_collection.js
    - src/mongo/db/modules/enterprise/jstests/live_import/import_invalid_index_spec.js
    - jstests/noPassthrough/data_consistency/dbhash_before_ddl_op.js
  no_passthrough_with_mongod:
    - jstests/noPassthroughWithMongod/validate/validate_timeseries.js
    - jstests/noPassthroughWithMongod/validate/validate_repair_mode.js
    - jstests/noPassthroughWithMongod/validate/validate_bson_types.js
    - jstests/noPassthroughWithMongod/validate/index_boundary_values_validate.js
    - jstests/noPassthroughWithMongod/validate/validate_interrupt.js
    - jstests/noPassthroughWithMongod/validate/validate_command.js
  read_only:
    - jstests/readonly/lib/read_only_test.js
    - jstests/readonly/validate.js
    - jstests/readonly/temp_collection.js
    - jstests/readonly/aggregate.js
    - jstests/readonly/find.js
    - jstests/readonly/geo.js
    - jstests/readonly/distinct.js
    - jstests/readonly/write_ops.js
    - jstests/readonly/catalog_ops.js
    - jstests/readonly/server_status.js
    - jstests/readonly/count.js
    - jstests/readonly/get_more.js
  replica_sets:
    - jstests/replsets/dbcheck/dbcheck_detects_missing_id_index.js
    - jstests/replsets/dbcheck/ignore_dbcheck_in_initial_sync.js
    - jstests/replsets/dbcheck/dbcheck_validation_mode_parameters.js
    - jstests/replsets/dbcheck/dbcheck_write_concern.js
    - jstests/replsets/libs/dbcheck_old_format_keys_test.js
    - jstests/replsets/dbcheck/dbcheck_consistent_batch_health_log.js
    - jstests/replsets/dbcheck/dbcheck_old_format_missing_keys_secondaries.js
    - jstests/replsets/dbcheck/dbcheck_old_format_extra_keys_secondary.js
    - jstests/replsets/dbcheck/dbcheck_old_format_missing_keys_primary.js
    - jstests/replsets/dbcheck/dbcheck_old_format_extra_keys_record_does_not_match.js
    - jstests/replsets/libs/dbcheck_utils.js
    - jstests/replsets/dbcheck/dbcheck_old_format_extra_keys_primary.js
    - jstests/replsets/dbcheck/dbcheck_collection_uuid.js
    - jstests/replsets/dbcheck/dbcheck_extra_index_keys_id_index.js
    - jstests/replsets/dbcheck/dbcheck_parameters_in_health_log.js
    - jstests/replsets/dbcheck/dbcheck_validate_bson.js
    - jstests/replsets/dbcheck/dbcheck_old_format_missing_keys.js
    - jstests/replsets/dbcheck/dbcheck_old_format_extra_keys_record_not_found.js
test_kind: js_test
