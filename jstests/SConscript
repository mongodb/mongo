# Includes the jstests in distribution tarballs generated by SCons

Import("env")
Import("get_option")

env = env.Clone()

if not get_option("install-mode") == "hygienic":
    Return()

for jstest in env.Glob("**/*.js"):
    env.AutoInstall(
        target="$PREFIX_SHARE_DIR/jstests/" + str(jstest.dir),
        source=jstest,
        AIB_COMPONENT="jstests",
        AIB_ROLE="runtime",
        AIB_COMPONENTS_EXTRA=[
            "tests",
        ],
    )
