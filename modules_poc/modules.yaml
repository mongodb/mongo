# This file defines the modules for the MongoDB project.
#
# Top-level keys are modules names. Dots can be used to create submodules.
# Each module has a meta section with information about the module and a files section
# with a list of globs that belong to the module. Any metadata missing from submodules
# will be inherited from their parent.
#
# How metadata is used:
#   slack:
#     Slack channel for questions about the the module. This will be included in
#     error messages about accessing private APIs, so that developers know where
#     to go to ask what they should do instead. Because # starts comments in YAML,
#     you should just write server-foo instead of #server-foo.
#
#   jira:
#     Jira "Assigned Team" that should be used when filing tickets for the module.
#
#   If unsure about these, or if multiple teams are involved, please pick a good place
#   to send questions/tickets to initially, understanding that we can always send them
#   somewhere else if needed.

core:
  description: TODO
  meta:
    slack: server-programmability
    jira: Server Programmability
  files:
    - src/mongo/base/
    - src/mongo/platform/
    - src/mongo/stdx/
    - src/mongo/util/
    - src/mongo/db/field_parser[._]*
    - src/mongo/db/generic_argument_util.*
    - src/mongo/db/nesting_depth_test.cpp
    - src/mongo/db/operation_killer.*
    - src/mongo/db/operation_time_tracker[._]*
    - src/mongo/db/request_execution_context.h
    - src/mongo/db/server_lifecycle_monitor[._]*
    - src/mongo/db/service_entry_point_bm_fixture.h
    - src/mongo/db/service_entry_point_rs_endpoint.*
    - src/mongo/db/startup_warnings*
    - src/mongo/db/thread_client_test.cpp
    - src/mongo/db/throw_hook_impl[._]*
    - src/mongo/db/throw_hook_options.idl
    - src/mongo/dbtests/threadedtests.cpp
    - src/mongo/dbtests/basictests.cpp
    - src/mongo/executor/cancelable_executor[._]*
    - src/mongo/executor/inline_executor[._]*
    - src/mongo/executor/scoped_task_executor[._]*
    - src/mongo/executor/task_executor[._]*
    - src/mongo/executor/thread_pool[._]*
    - src/mongo/db/exec/scoped_timer*

core.bson:
  files:
    - src/mongo/bson/
    # Unsure about the next one but putting here for now:
    - src/mongo/db/query/util/jparse_util* # needs to be same module as bson/json.h
    - src/mongo/dbtests/jsobjtests.cpp
    - src/mongo/dbtests/jsontests.cpp
    - src/mongo/db/hasher* # TODO move to bson/ or at least rename to be less generic

core.idl:
  files:
    - src/mongo/idl/
    - src/mongo/db/basic_types.*

# stuff that is part of a generic mongo service
core.service:
  files:
    - src/mongo/db/commands[._]* # not the commands directory
    - src/mongo/db/*operation_context*
    - src/mongo/db/client*
    - src/mongo/db/service_context*
    - src/mongo/db/dbdirectclient[._]*
    - src/mongo/dbtests/directclienttests.cpp
    - src/mongo/db/feature_flag*
    - src/mongo/db/error_labels*
    - src/mongo/db/server_feature_flags.idl
    - src/mongo/db/windows_options.idl

# stuff that is part of a *specific* mongo server (eg mongos, mongod)
core.servers:
  files:
    - src/mongo/db/mongod.cpp
    - src/mongo/db/mongod_main.*
    - src/mongo/db/mongod_options.*
    - src/mongo/db/mongod_options_init.cpp
    - src/mongo/db/mongod_initializers.cpp
    - src/mongo/db/mongod_options_general.*
    - src/mongo/db/mongod_options_legacy.idl
    - src/mongo/db/mongod_options_test.cpp
    - src/mongo/db/service_context_d_test_fixture.*
    - src/mongo/db/global_settings*
    - src/mongo/db/mongod_options_sharding*
    - src/mongo/db/replica_set_endpoint*
    - src/mongo/s/mongos.cpp
    - src/mongo/s/mongos_main.*
    - src/mongo/s/mongos_options*

core.commands:
  files:
    - src/mongo/db/commands/async_command_execution_test.cpp
    - src/mongo/db/commands/buildinfo_common.*
    - src/mongo/db/commands/cpuload.cpp
    - src/mongo/db/commands/db_command_test_fixture.h
    - src/mongo/db/commands/fail_point_cmd.cpp
    - src/mongo/db/commands/kill_op.cpp
    - src/mongo/db/commands/kill_op_cmd_base.*
    - src/mongo/db/commands/kill_operations.idl
    - src/mongo/db/commands/killoperations_cmd.cpp
    - src/mongo/db/commands/killoperations_common.h
    - src/mongo/db/commands/sessions_commands.idl
    - src/mongo/db/commands/shutdown.*
    - src/mongo/db/commands/shutdown_d.cpp
    - src/mongo/db/commands/sleep_command.cpp
    - src/mongo/db/commands/test_commands[._]*
    - src/mongo/db/commands/generic.*
    - src/mongo/db/commands/generic_servers.*
    - src/mongo/db/commands/parameters.*
    - src/mongo/s/request_types/wait_for_fail_point.idl
    - src/mongo/s/commands/cluster_build_info.cpp
    - src/mongo/s/commands/cluster_kill_op.cpp
    - src/mongo/s/commands/cluster_killoperations_cmd.cpp
    - src/mongo/s/commands/cluster_shutdown_cmd.cpp

core.unittest:
  files:
    - src/mongo/unittest/
    - src/mongo/dbtests/framework[._]*

clang_tidy_checks:
  meta:
    slack: server-programmability
    jira: Server Programmability
  files:
    - src/mongo/tools/mongo_tidy_checks/

shell:
  meta:
    slack: ask-devprod-correctness
    jira: DevProd Correctness
  files:
    - src/mongo/shell/
    - src/mongo/db/modules/enterprise/src/fle/shell

query:
  meta:
    slack: TODO
    jira: TODO
  files:
    - src/mongo/db/aggregated_index_usage_tracker*
    - src/mongo/db/api_parameters*
    - src/mongo/db/field_ref*
    - src/mongo/db/traffic_*
    - src/mongo/db/validate_api_parameters*
    - src/mongo/db/bulk_write_shard_test.cpp
    - src/mongo/db/collection_index_usage_tracker*
    - src/mongo/db/commands/filemd5_cmd.cpp # TODO SERVER-88071: Deprecate/remove this command.
    - src/mongo/db/commands/profile*
    - src/mongo/db/commands/sysprofile*
    - src/mongo/db/commands/query_cmd/
    - src/mongo/db/commands/server_status*
    - src/mongo/db/commands/set_profiling_*
    - src/mongo/db/commands/shardsvr_resolve_view_command*
    - src/mongo/db/commands/top_command*
    - src/mongo/db/exec/
    - src/mongo/db/change_collection*
    - src/mongo/db/change_stream*
    - src/mongo/db/op_observer/change_stream_pre_images_op_observer*
    - src/mongo/db/set_change_stream*
    - src/mongo/db/curop*
    - src/mongo/db/fts/
    - src/mongo/db/geo/
    - src/mongo/db/index_names*
    - src/mongo/db/index/ # mostly query, except index_access_method owned by storex
    - src/mongo/db/matcher/
    - src/mongo/db/memory_tracking/
    - src/mongo/db/multi_key_path_tracker*
    - src/mongo/db/modules/enterprise/src/fle/query_analysis
    - src/mongo/db/op_debug*
    - src/mongo/db/pipeline/
    - src/mongo/db/profile_*
    - src/mongo/db/query/
    - src/mongo/db/s/query_analysis* # note the filename pattern
    - src/mongo/db/s/*query*analyzer* # note the filename pattern
    - src/mongo/db/s/shard_filtering_util*
    - src/mongo/db/s/document_source_visitor_docs_needed_bounds.cpp
    - src/mongo/db/s/query_cmd
    - src/mongo/db/stats/
    - src/mongo/db/update/
    - src/mongo/db/update_index_data*
    - src/mongo/db/views/
    - src/mongo/db/yieldable.h
    - src/mongo/dbtests/counttests.cpp
    - src/mongo/dbtests/documentsourcetests.cpp
    - src/mongo/dbtests/extensions_callback_real_test.cpp
    - src/mongo/dbtests/insert_test.cpp
    - src/mongo/dbtests/plan_ranking.cpp
    - src/mongo/dbtests/jstests.cpp
    - src/mongo/dbtests/matchertests.cpp
    - src/mongo/dbtests/plan_executor_invalidation_test.cpp
    - src/mongo/dbtests/query*
    - src/mongo/dbtests/updatetests.cpp
    - src/mongo/s/cluster_cursor_stats.cpp
    - src/mongo/s/cluster_write*
    - src/mongo/s/commands/cluster_query_settings_cmds.cpp
    - src/mongo/s/commands/cluster_query_without_shard_key_cmd.cpp
    - src/mongo/s/commands/cluster_write_without_shard_key_cmd.cpp
    - src/mongo/s/query/
    - src/mongo/s/request_types/cluster_commands_without_shard_key.idl
    - src/mongo/s/write_ops/
    - src/mongo/replay
    - src/mongo/scripting/
    - src/mongo/s/commands/query_cmd
    - src/mongo/s/shard_targeting_helpers*
    - src/mongo/s/query/planner
    - src/mongo/db/namespace_spec.idl # only used by query
    - src/mongo/s/commands/*document_shard_key_*
    - src/mongo/util/safe_num*
    - src/mongo/db/s/*analyze_shard_key*
    - src/mongo/s/*analyze_shard_key*
    - src/mongo/s/*query_analyze*
    - src/mongo/s/commands/*analyze_shard_key*
    - src/mongo/s/commands/*query_analyze*
    - src/mongo/db/s/migration_blocking_operation/*multi_update*
    - src/mongo/s/request_types/*multi_update*

shard_catalog:
  meta:
    description: >-
      This module represents the logical parts of a database/collection that are constrained to a
      single shard's replica set. They provide clean APIs that higher-order modules use, for
      instance, to build replica set and distributed DDL operations, but the module only concerns
      themselves with the shard-local view and has no bearing on the global catalog.
    slack: server-catalog-and-routing
    jira: Catalog and Routing
  files:
    # The files below are grouped by the logical component/library that they (should) represent in
    # the ideal state of the codebase.

    # base: Fundamental, stateless value types that are used throughout the codebase (MongoS and MongoD).
    - src/mongo/db/database_name[._]*
    - src/mongo/db/namespace_string[._]*
    - src/mongo/util/namespace_string[._]*

    # lock_manager:
    - src/mongo/db/concurrency/
    - src/mongo/db/dump_lock_manager[._]*

    # shard_role_api: The public Shard Role API that the rest of the teams use to build the shard
    # side of distributed date applications.
    - src/mongo/db/shard_role[._]*
    - src/mongo/db/transaction_resources[._]*

    # shard_role_api_cluster_part: Implementation detail of the public Shard Role API that contains
    # the parts of the catalog that are projected on the Config Server and managed through the
    # non-authoritative model.
    - src/mongo/db/direct_shard_client_tracker[._]*
    - src/mongo/db/direct_connection_util[._]*
    - src/mongo/db/s/collection_metadata[._]*
    - src/mongo/db/s/collection_sharding_state[._]*
    - src/mongo/db/s/collection_sharding_runtime[._]*
    - src/mongo/db/s/database_sharding_state[._]*
    - src/mongo/db/s/database_sharding_runtime[._]*
    - src/mongo/db/s/metadata_manager[._]*
    - src/mongo/db/s/op_observer_sharding_test*

    # shard_role_api_local_part: Implementation detail of the public Shard Role API that contains
    # the parts of the catalog that are not projected on the Config Server.
    - src/mongo/db/catalog/*
    - src/mongo/db/catalog_raii[._]*
    - src/mongo/db/db_raii[._]*
    - src/mongo/db/d_concurrency_*
    - src/mongo/dbtests/catalogtests.cpp
    - src/mongo/dbtests/indexcatalogtests.cpp

    # commands: Commands that belong to this module.
    - src/mongo/db/s/sharding_server_status.cpp

    # unit_testing_framework: Components that are used to implement unit-tests that require a
    # functioning shard catalog.
    - src/mongo/db/catalog/catalog_test_fixture.*

    # unsorted: Everything else.
    - src/mongo/db/service_entry_point_shard_role[._]*

ddl:
  meta:
    description: >-
      This module contains the global catalog, the commands exposed to external users and the
      interfaces exposed to internal users (other modules) to run DDL operations, both for sharded
      clusters and replica sets. Being more specific, for replica sets the DDL module contains the
      entire DDL operation, excluding the shard-local function to support the DDL, which is in the
      shard_local_catalog module. For sharded clusters, the DDL module contains everything,
      including the cluster commit protocol.
    slack: server-catalog-and-routing
    jira: Catalog and Routing
  files:
    # The files below are grouped by the logical component/library that they (should) represent in
    # the ideal state of the codebase.

    # ddl_role_api: The public DDL Role API that the rest of the teams use to implement the shard
    # side of DDL operations in a replicaset and sharded clusters.
    - src/mongo/db/s/config/configsvr_coordinator*
    - src/mongo/db/s/ddl_lock_manager[._]*
    - src/mongo/db/s/shard_key*util*
    - src/mongo/db/s/shard_metadata_util*
    - src/mongo/db/s/sharding_ddl_coordinator[._]*
    - src/mongo/db/s/sharding_recovery_service*
    - src/mongo/db/s/sharding_util[._]*
    - src/mongo/db/s/sharding_ddl_util[._]*
    - src/mongo/db/s/*reshard_collection_coordinator*

    # DDL operations
    - src/mongo/db/s/*change_primary*
    - src/mongo/db/s/*collmod*
    - src/mongo/db/s/*convert_to_capped*
    - src/mongo/db/s/*create*
    - src/mongo/db/s/*drop*
    - src/mongo/db/s/*merge*
    - src/mongo/db/s/*metadata_consistency*
    - src/mongo/db/s/*move_primary*
    - src/mongo/db/s/*refine*
    - src/mongo/db/s/*rename*
    - src/mongo/db/s/*reshard_collection_coordinator*
    - src/mongo/db/s/*set_allow_migrations*
    - src/mongo/db/s/*split_chunk*
    - src/mongo/db/s/*untrack*
    - src/mongo/s/sessions_collection_sharded*

    # commands: Commands that belong to this module.
    - src/mongo/s/commands/*change_primary*
    - src/mongo/s/commands/*collection_mod*
    - src/mongo/s/commands/*convert_to_capped*
    - src/mongo/s/commands/*create*
    - src/mongo/s/commands/*drop*
    - src/mongo/s/commands/*enable_sharding*
    - src/mongo/s/commands/*list*
    - src/mongo/s/commands/*merge*
    - src/mongo/s/commands/*move_collection*
    - src/mongo/s/commands/*move_primary*
    - src/mongo/s/commands/*metadata_consistency*
    - src/mongo/s/commands/*placement_history*
    - src/mongo/s/commands/*refine*
    - src/mongo/s/commands/*rename*
    - src/mongo/s/commands/*_shard_collection*
    - src/mongo/s/commands/shard_collection*
    - src/mongo/db/s/config/*metadata_consistency*
    - src/mongo/db/s/config/*collmod*
    - src/mongo/db/s/config/configsvr_coordinator*
    - src/mongo/db/s/config/*configsvr*chunk*
    - src/mongo/db/s/config/*move_primary*
    - src/mongo/db/s/config/*placement_history*
    - src/mongo/db/s/config/*refine*
    - src/mongo/s/request_types/*drop_collection*
    - src/mongo/s/request_types/*merge_chunk*
    - src/mongo/s/request_types/*move_primary*
    - src/mongo/s/request_types/*placement_history*
    - src/mongo/s/request_types/*set_allow_migrations*
    - src/mongo/s/request_types/sharded_ddl_commands.idl
    - src/mongo/s/request_types/*untrack*
    - src/mongo/s/request_types/shardsvr_join_ddl_coordinators_request.idl
    - src/mongo/db/s/shardsvr_join_ddl_coordinators_command.cpp
    - src/mongo/db/s/config/configsvr_create_database_command.cpp
    - src/mongo/s/commands/cluster_create_unsplittable_collections_command.cpp
    - src/mongo/s/commands/*move_collection*
    - src/mongo/s/commands/*reshard*
    - src/mongo/s/request_types/*reshard_collection*

    # unsorted: Everything else.
    - src/mongo/s/check_metadata_consistency.idl
    - src/mongo/s/cluster_ddl.*
    - src/mongo/s/catalog/*
    - src/mongo/db/s/config/index_on_config*
    - src/mongo/db/s/config/sharding_catalog_manager*
    - src/mongo/db/s/migration_blocking_operation/*blocking*
    - src/mongo/s/request_types/migration_blocking_operation*
    - src/mongo/s/migration_blocking_operation*

routing_and_topology:
  meta:
    description: >-
      This module contains the topology of the cluster, including the operations to promote a
      replica set to sharded cluster, demote a sharded cluster to replica set and to add/remove to
      a sharded cluster. Apart from that, it also owns the Router Role, including protocols and
      interfaces that ensure queries are routed to the correct subset of shards and that the entire
      distributed operation executes with the correct consistency level.
    slack: server-catalog-and-routing
    jira: Catalog and Routing
  files:
    # base: Fundamental, stateless value types that are used throughout the codebase (MongoS and MongoD).
    - src/mongo/db/cluster_role.*
    - src/mongo/db/shard_id[._]*
    - src/mongo/s/chunk_version[._]*
    - src/mongo/s/index_version[._]*
    - src/mongo/s/shard_version[._]*
    - src/mongo/s/version_mongos[._]*
    - src/mongo/s/stale_exception[._]*
    - src/mongo/s/collection_uuid_mismatch.*

    # sharding_environment: Fundamental mutable state that all sharding components rely.
    - src/mongo/s/grid.*
    - src/mongo/db/s/sharding_state.*
    - src/mongo/db/s/sharding_initialization[._]*
    # TODO: This file overlaps between shard_catalog, ddl and routing_and_topology. Putting it in
    # this module because it is "generic infrastructure", but likely its contents need to be moved
    # to each respective module.
    - src/mongo/db/s/shard_server_op_observer[._]*
    - src/mongo/db/s/config_server_op_observer[._]*

    # vector_clock:
    - src/mongo/db/vector_clock[._]*
    - src/mongo/db/s/vector_clock*

    # router_role_api:
    - src/mongo/s/router_role[._]*
    - src/mongo/s/routing_context[._]*
    - src/mongo/s/catalog_cache[._]*
    - src/mongo/s/client/shard_registry[._]*
    - src/mongo/s/config_server_catalog_cache_loader[._]*
    - src/mongo/s/*routing*

    # FCV:
    - src/mongo/db/version_context*
    - src/mongo/s/commands/cluster_set_feature_compatibility_version_cmd.cpp

    # cluster_server_parameters: Cluster server parameters are a special type of server parameter that
    # are stored in the config server and are replicated to all shards. They are used to control
    # the behavior of the cluster as a whole, rather than individual shards.
    - src/mongo/db/commands/cluster_server_parameter_cmds.idl
    - src/mongo/idl/cluster_server_parameter*
    - src/mongo/idl/cluster_parameter_synchronization_helpers*
    - src/mongo/s/set_cluster_server_parameter_router_impl[._]*
    - src/mongo/s/migration_blocking_operation/migration_blocking_operation_cluster_parameters.idl

    # commands: Commands that belong to this module.
    - src/mongo/s/commands/cluster_rwc_defaults_commands.cpp
    - src/mongo/s/request_types/add_shard.idl
    - src/mongo/db/s/add_shard_coordinator[._]*
    - src/mongo/db/s/config/configsvr_add_shard_command.cpp
    - src/mongo/s/request_types/remove_shard.idl
    - src/mongo/db/s/remove_shard_commit_coordinator[._]*
    - src/mongo/db/s/config/configsvr_remove_shard_command.cpp
    - src/mongo/db/s/config/*transition*dedicated_config*
    - src/mongo/s/s_sharding_server_status.cpp
    - src/mongo/s/commands/*transition*dedicated_config*
    - src/mongo/s/request_types/transition*

    # unit_testing_framework: Components that are used to implement unit-tests that require a
    # functioning routing and topology environment.
    - src/mongo/s/catalog_cache_test_fixture.*
    - src/mongo/s/sharding_test_fixture_common.*
    - src/mongo/db/vector_clock_test_fixture.*
    - src/mongo/db/s/sharding_mongod_test_fixture.*
    - src/mongo/db/s/shard_server_test_fixture.*
    - src/mongo/db/s/config/config_server_test_fixture.*

    # replica_set_endpoint: will be deleted eventually
    - src/mongo/db/s/replica_set_endpoint*

    # unsorted: Everything else.
    - src/mongo/db/write_block_bypass[._]*
    - src/mongo/db/op_observer/user_write_block_mode*
    - src/mongo/s/cluster_identity_loader[._]*
    - src/mongo/s/service_entry_point_router_role[._]*
    - src/mongo/s/commands/strategy*
    - src/mongo/db/s/sharding_runtime_d*

transactions:
  meta:
    slack: server-replication
    jira: Replication
  files:
    - src/mongo/db/commands/*transaction*
    - src/mongo/db/commands/*txn*
    - src/mongo/db/transaction/
    - src/mongo/db/cluster_transaction_api.*
    - src/mongo/db/internal_transactions_feature_flag.idl
    - src/mongo/db/periodic_runner_job_abort_expired_transactions.*
    - src/mongo/db/transaction_validation.*
    - src/mongo/db/*txn*
    - src/mongo/db/s/*transaction*
    - src/mongo/db/s/*txn*
    - src/mongo/s/commands/*transaction*
    - src/mongo/s/commands/*txn*
    - src/mongo/s/*transaction*
    - src/mongo/db/session/
    - src/mongo/s/session_catalog_router*

fcv:
  meta:
    slack: server-fcv
    jira: Replication
  files:
    - src/mongo/db/feature_compatibility*
    - src/mongo/db/commands/feature_compatibility*
    - src/mongo/db/commands/set_feature_compatibility_version*
    - src/mongo/db/op_observer/fcv_op_observer*
    - src/mongo/unittest/ensure_fcv.h

access_control:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/auth/
    - src/mongo/db/cluster_auth_mode_option.idl
    - src/mongo/db/commands/authentication*
    - src/mongo/db/commands/user_management*
    - src/mongo/db/keyfile_option.idl
    - src/mongo/db/modules/enterprise/src/kerberos
    - src/mongo/db/modules/enterprise/src/ldap
    - src/mongo/db/modules/enterprise/src/sasl
    - src/mongo/db/modules/enterprise/src/util/gssapi*
    - src/mongo/db/modules/enterprise/src/util/report.*
    - src/mongo/s/commands/cluster_user_management_commands.cpp
    - src/mongo/s/cluster_umc_error_with_write_concern_error_info*

admission:
  meta:
    slack: server-workload-scheduling
    jira: server-workload-scheduling
  files:
    - src/mongo/db/admission/
    - src/mongo/db/concurrency/flow_control_ticketholder*

workload_simulation:
  meta:
    slack: server-workload-scheduling
    jira: server-workload-scheduling
  files:
    - src/mongo/tools/workload_simulation/

native_tenant_data_isolation:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/tenant_id*
    - src/mongo/db/multitenancy*
    - src/mongo/db/auth/validated_tenancy_scope*
    - src/mongo/s/initialize_tenant_to_shard_cache*

crypto:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/crypto

audit:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/audit*
    - src/mongo/db/modules/enterprise/src/audit
    - src/mongo/rpc/metadata/audit*

encrypted_storage_engine:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/modules/enterprise/src/encryptdb

security:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/commands/connection_status.*
    - src/mongo/db/commands/hashcmd.cpp
    - src/mongo/db/commands/rotate_certificates*
    - src/mongo/db/modules/enterprise/src/fips
    - src/mongo/db/modules/enterprise/src/kmip
    - src/mongo/db/system_index*

field_level_encryption:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/commands/fle2_*
    - src/mongo/db/fle_*
    - src/mongo/db/s/*_structured_encryption_*
    - src/mongo/s/commands/*fle2*
    - src/mongo/db/commands/fle_compact_test.cpp

field_level_encryption.cryptd:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/modules/enterprise/src/fle/commands
    - src/mongo/util/cryptd

field_level_encryption.crypt_shared:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/modules/enterprise/src/fle/lib

causal_consistency:
  meta:
    slack: server-sharding
    jira: Cluster Scalability
  files:
    - src/mongo/db/keys_collection*

data_movement:
  meta:
    slack: server-sharding
    jira: Cluster Scalability
  files:
    # resharding
    - src/mongo/db/s/*reshard*
    - src/mongo/db/s/config/*reshard*
    - src/mongo/s/*reshard*
    - src/mongo/db/s/metrics/**
    - src/mongo/s/request_types/resharding_operation_time.idl

    # chunk operations
    - src/mongo/db/s/migration_chunk*
    - src/mongo/db/s/migration_batch*
    - src/mongo/db/s/migration*manager*
    - src/mongo/db/s/migration*session*
    - src/mongo/db/s/session*migration*
    - src/mongo/db/s/migration_recipient*
    - src/mongo/db/s/migration_coordinator*
    - src/mongo/db/s/migration_util*
    - src/mongo/db/s/migration_chunk*
    - src/mongo/db/s/active_migrations*
    - src/mongo/db/s/range_delet*
    - src/mongo/db/s/chunk*
    - src/mongo/db/s/start_chunk*
    - src/mongo/db/s/*move_range*
    - src/mongo/db/s/move_timing*
    - src/mongo/db/s/config/*move_range*
    - src/mongo/db/s/*split_vector*
    - src/mongo/db/s/cleanup_orphaned_cmd.cpp
    - src/mongo/s/commands/*move_range*
    - src/mongo/s/request_types/move_range_request.idl
    - src/mongo/s/commands/*split_vector*
    - src/mongo/s/commands/*split_cmd*
    - src/mongo/s/commands/*move_chunk*
    - src/mongo/s/request_types/auto_split_vector.idl
    - src/mongo/s/request_types/migration_secondary_throttle*
    - src/mongo/s/request_types/repair_sharded_collection_chunks_history.idl
    - src/mongo/s/request_types/cleanup_orphaned.idl

    # balancer
    - src/mongo/db/s/*balanc*
    - src/mongo/db/s/config/configsvr_*balanc*
    - src/mongo/s/balanc*
    - src/mongo/s/commands/*balanc*
    - src/mongo/s/request_types/*balanc*

    - src/mongo/db/cloner*

observability:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/connection_health_metrics_parameter.idl
    - src/mongo/db/operation_cpu_timer*
    - src/mongo/db/process_health/
    - src/mongo/executor/split_timer*
    - src/mongo/watchdog/

observability.logging:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/log_process_details*
    - src/mongo/logv2/

observability.tracing:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/tracing/
    - src/mongo/util/tracing_support*

observability.ftdc:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/ftdc/

observability.commands:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/commands/parse_log_component_settings*
    - src/mongo/db/commands/xray_commands*
    - src/mongo/s/commands/cluster_ftdc_commands.cpp
    - src/mongo/s/commands/cluster_netstat_cmd.cpp

networking:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/client/
    - src/mongo/dbtests/clienttests.cpp
    - src/mongo/dbtests/mock_dbclient_conn_test.cpp
    - src/mongo/dbtests/mock/mock_conn_registry*
    - src/mongo/dbtests/mock/mock_dbclient_connection*
    - src/mongo/dbtests/mock/mock_remote_db_server*
    - src/mongo/dbtests/socktests.cpp
    - src/mongo/executor/async_rpc*
    - src/mongo/executor/async_client*
    - src/mongo/executor/connection_pool*
    - src/mongo/executor/connection_metrics.h
    - src/mongo/executor/network*
    - src/mongo/executor/remote_command*
    - src/mongo/executor/test_network*
    - src/mongo/executor/mock_network*
    - src/mongo/executor/mock_async_rpc*
    - src/mongo/executor/pooled_async_client_factory.h
    - src/mongo/executor/egress_*

networking.core:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/dbmessage*
    - src/mongo/db/max_time.h
    - src/mongo/db/op_msg*
    - src/mongo/db/operation_id*
    - src/mongo/db/operation_key_manager*
    - src/mongo/db/shutdown_in_progress_quiesce_info*
    - src/mongo/db/wire_version*
    - src/mongo/rpc/
    - src/mongo/transport/
    - src/mongo/util/net/
    - src/mongo/s/load_balancer_support*

networking.commands:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/commands/command_mirroring_test.cpp
    - src/mongo/db/commands/conn_pool_stats.cpp
    - src/mongo/db/commands/conn_pool_sync.cpp
    - src/mongo/db/commands/drop_connections_command.cpp
    - src/mongo/db/commands/http_client.cpp
    - src/mongo/db/commands/http_client.idl
    - src/mongo/db/commands/traffic_recording_cmds.cpp
    - src/mongo/db/commands/whats_my_sni_command.cpp
    - src/mongo/db/commands/whats_my_uri_cmd.cpp
    - src/mongo/s/commands/cluster_hello_cmd.cpp
    - src/mongo/s/commands/cluster_whats_my_uri_cmd.cpp

networking.execution:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/baton*
    - src/mongo/db/default_baton*
    - src/mongo/executor/async_multicaster*
    - src/mongo/executor/async_request_executor*
    - src/mongo/executor/async_timer_*
    - src/mongo/executor/async_transaction_rpc.h
    - src/mongo/executor/executor_integration_test_*
    - src/mongo/executor/exhaust_response_reader_*
    - src/mongo/executor/pinned_connection_task_executor*
    - src/mongo/s/append_raw_responses_test.cpp
    - src/mongo/s/async_requests_sender*
    - src/mongo/s/async_rpc_shard_retry_policy.h
    - src/mongo/s/async_rpc_shard_targeter*

networking.mirrored_reads:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/db/mirror*

networking.mongo_bridge:
  meta:
    slack: server-networking-observability
    jira: Networking & Observability
  files:
    - src/mongo/tools/mongobridge_tool/

timeseries_bucket_catalog: # authoritative: @10gen/server-timeseries-bucket-catalog
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/timeseries/bucket_catalog

collection_write_path: # authoritative: @10gen/server-collection-write-path
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/collection_crud
    - src/mongo/db/timeseries # excluding ./bucket_catalog
    - src/mongo/db/commands/collection_to_capped*

bsoncolumn: # authoritative: @10gen/server-bsoncolumn
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/bson/util/bsonobj_traversal.h
    - src/mongo/bson/column

external_sorter: # authoritative: @10gen/server-external-sorter
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/sorter

index_builds: # authoritative: @10gen/server-index-builds
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/index_builds
    - src/mongo/db/index/index_access_method*
    - src/mongo/db/catalog/index_key_validate*
    - src/mongo/db/catalog/index_spec_validate*
    - src/mongo/db/commands/create_indexes*
    - src/mongo/db/commands/set_index_commit_quorum*
    - src/mongo/db/commands/vote*index_build*
    - src/mongo/dbtests/index_builds/*
    - src/mongo/dbtests/indexupdatetests.cpp
    - src/mongo/s/commands/commit_quorum/cluster_set_index_commit_quorum_cmd.cpp

key_string: # authoritative: @10gen/server-key-string
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/storage/key_string

storage_engine_api:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/repair*
    - src/mongo/db/storage/wiredtiger
    - src/mongo/db/storage/kv/kv_engine*
    - src/mongo/db/storage/devnull
    - src/mongo/db/storage/storage_engine*
    - src/mongo/db/storage/record_store*
    - src/mongo/db/storage/durable_catalog*
    - src/mongo/db/storage/recovery_unit*
    - src/mongo/db/storage/sorted_data_interface*
    - src/mongo/db/startup_recovery*
    - src/mongo/db/modules/enterprise/src/inmemory

storage_engine_integration:
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/storage # excluding ./key_string, ./wiredtiger, ./devnull, some of ./kv
    - src/mongo/db/record_id*
    - src/mongo/db/server_recovery*
    - src/mongo/db/mongod_options_storage.idl
    - src/mongo/db/dbhelpers*
    - src/mongo/db/dbcommands.idl
    - src/mongo/db/catalog/import*
    - src/mongo/db/catalog/index_repair*
    - src/mongo/db/commands/fsync*
    - src/mongo/db/commands/dbcommands*
    - src/mongo/db/commands/resize_oplog*
    - src/mongo/db/op_observer/batched_write*
    - src/mongo/db/stats/storage_stats*
    - src/mongo/dbtests/dbhelper_tests.cpp
    - src/mongo/dbtests/dbtests*
    - src/mongo/dbtests/storage_debug_util*
    - src/mongo/s/commands/storage_engine
    - src/mongo/s/commands/*fsync*

validate:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/catalog/throttle_cursor*
    - src/mongo/db/commands/validate.cpp
    - src/mongo/db/validate
    - src/mongo/dbtests/validate_tests.cpp

dbhash:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/commands/dbhash*

compact:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/catalog/collection_compact*
    - src/mongo/db/commands/auto_compact*
    - src/mongo/db/commands/compact*
    - src/mongo/db/storage/compact_options*

dbcheck:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/catalog/health_log*
    - src/mongo/db/commands/dbcheck*
    - src/mongo/db/concurrency/deferred_writer*
    - src/mongo/dbtests/deferred_writer.cpp
    - src/mongo/db/repl/dbcheck*

server_backup_restore:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/modules/enterprise/src/hot_backups
    - src/mongo/db/modules/enterprise/src/live_import
    - src/mongo/db/modules/enterprise/src/queryable
    - src/mongo/db/modules/enterprise/src/util/document_source_visitor_registry_enterprise.h
    - src/mongo/db/storage/backup*

cache_pressure:
  meta:
    slack: server-rss-sydney
    jira: RSS Sydney
  files:
    - src/mongo/db/periodic_runner_cache_pressure_rollback*

ttl: # authoritative: @10gen/server-ttl
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/db/ttl

tracking_allocators: # authoritative: @10gen/server-tracking-allocators
  meta:
    slack: server-storage-execution
    jira: Storage Execution
  files:
    - src/mongo/util/tracking

atlas-streams:
  meta:
    slack: streams-engine
    jira: Atlas Streams
  files:
    - src/mongo/db/modules/enterprise/src/streams

server_parameters:
  meta:
    slack: server-security
    jira: Server Security
  files:
    - src/mongo/db/server_options*
    - src/mongo/db/server_parameter*

# This module doesn't really exist. It's files are only compiled on windows, and we don't
# run the mod_scanner on a windows build. However, it is needed to ensure that all first-party
# C++ files are assigned to a module. It should be a dependency island anyway.
installer:
  files:
    - src/mongo/installer/

replication:
  meta:
    slack: server-replication
    jira: Server Replication
  files:
    - src/mongo/db/repl/ # excluding ./dbcheck*
    - src/mongo/db/commands/snapshot_management.cpp
    - src/mongo/db/commands/test_api_version_2_commands.cpp
    - src/mongo/db/op_observer/find_and_modify_images_op_observer* # specific files
    - src/mongo/db/mongod_options_replication*
    - src/mongo/db/concurrency/replication_state_transition_lock_guard*
    - src/mongo/dbtests/mock_replica_set_test.cpp
    - src/mongo/dbtests/replica_set_tests.cpp
    - src/mongo/dbtests/repltests.cpp
    - src/mongo/dbtests/mock/mock_replica_set*

replication.initial_sync:
  meta:
    slack: server-replication
    jira: Server Replication
  files:
    - src/mongo/db/modules/enterprise/src/fcbis/
    - src/mongo/db/repl/initial_sync/

replication.oplog:
  meta:
    slack: server-replication
    jira: Server Replication
  files:
    - src/mongo/db/op_observer/op_observer*
    - src/mongo/db/op_observer/operation_logger*
    - src/mongo/db/catalog/local_oplog_info*
    - src/mongo/db/commands/oplog*
    - src/mongo/db/commands/apply_ops*
    - src/mongo/db/repl/*oplog*
    - src/mongo/db/repl/*noop_writer*
    - src/mongo/db/repl/*bgsync*
    - src/mongo/db/repl/*sync_source*

replication.server_rw_concerns:
  meta:
    slack: server-replication
    jira: Server Replication
  files:
    - src/mongo/db/commands/read_write_concern_defaults_server_status.cpp
    - src/mongo/db/read_concern*
    - src/mongo/db/read_write_concern*
    - src/mongo/db/repl/*read_concern*
    - src/mongo/db/repl/*write_concern*
    - src/mongo/db/stats/server_write_concern*
    - src/mongo/db/stats/server_read_concern*
    - src/mongo/db/write_concern*

replication.rs_aware_service:
  meta:
    slack: server-replication
    jira: Server Replication
  files:
    - src/mongo/db/repl/*primary_only_service*
    - src/mongo/db/repl/*replica_set_aware_service*

replication.replication_coordinator:
  meta:
    slack: server-replication
    jira: Replication
  files:
    - src/mongo/db/repl/*replication_coordinator*
    - src/mongo/db/repl/*external_state*
    - src/mongo/db/repl/*heartbeat*
    - src/mongo/db/repl/*topology_coordinator*

replication.recovery:
  meta:
    slack: server-replication
    jira: Replication
  files:
    - src/mongo/db/repl/*replication_recovery*
    - src/mongo/db/repl/*rollback*
    - src/mongo/db/modules/enterprise/src/magic_restore
    - src/mongo/dbtests/rollbacktests.cpp
